<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signup</title>
</head>
<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    min-height: 100vh;
    width: 100%;
    background-color: rgb(26, 25, 44);
}

.container {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    max-width: 430px;
    width: 100%;
    background-color: white;
    border-radius: 7px;
    box-shadow: 0 5px 10px rgba(0, 0, 0, 0.3);
}

.container .signup-form {
    padding: 2rem;
}

.signup-form header {
    font-size: 2rem;
    font-weight: 500;
    text-align: center;
    margin-bottom: 1.5rem;
}

.signup-form input {
    height: 60px;
    padding: 0 15px;
    width: 100%;
    font-size: 17px;
    margin-bottom: 1.3rem;
    border: 1px solid #ddd;
    border-radius: 6px;
    outline: none;
}

.signup-form input:focus {
    box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2);
}

.signup-form a {
    font-size: 16px;
    text-decoration: none;
}

.signup-form a:hover {
    text-decoration: underline;
}

.signup-form input.button {
    color: #fff;
    background: rgb(26, 25, 44);
    font-size: 1.2rem;
    font-weight: 500;
    letter-spacing: 1px;
    margin-top: 1.7rem;
    cursor: pointer;
    transition: 0.4s;
}

.signup-form input.button:hover {
    background-color: rgb(49, 54, 72);
}

.signup-form {
    font-size: 17px;
    text-align: center;
}

.signup-form label {
    color: blue;
    cursor: pointer;
}

.signup-form label:hover {
    text-decoration: underline;
}
</style>
<body>
<div class="container">
    <div class="signup-form">
        <header>Signup</header>
        <form action="#" id="signup-form">
            <input type="text" placeholder="enter your name" name="username">
            <input type="email" placeholder="enter your email" name="email">
            <input type="password" placeholder="Create a Password" name="password">
            <input type="password" placeholder="confirm your password" name="confirmpassword">
            <input type="submit" class="button" value="Signup">
        </form>
        <div class="signup">
            <span class="signup">Already have an account?
                <a href="login.html"><label>Login</label></a>
            </span>
        </div>
    </div>
</div>
</body>
<script>
document.getElementById('signup-form').addEventListener('submit', function (event) {
    event.preventDefault(); // Prevent the default form submission behavior

    const form = event.target; // Get the form element
    const formData = new FormData(form);
    const username = formData.get("username");
    const email = formData.get("email");
    const password = formData.get("password");
    const confirmpassword = formData.get("confirmpassword");

    const dataToSend = {
        username: username,
        email: email,
        password: password,
        confirmpassword: confirmpassword,
    };

    fetch("https://whatever-vpc3.onrender.com/users/register", {
        method: "POST",
        headers: {
            "Content-Type": "application/json",
        },
        body: JSON.stringify(dataToSend),
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            alert('Registration successful. You can now log in.');
            window.location.href = 'login.html';
        } else {
    
            alert('Registration failed. Please try again.');
        }
        console.log("API Response:", data);
    })
    .catch(error => {
        console.log("Error:", error);
    });
});
</script>
</html>
